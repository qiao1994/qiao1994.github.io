# 16.高性能NoSQL

# 关系型数据库的缺点
* 存储的是行记录，无法存储数据结构
* schema扩展很不方便：修改数据库的列很麻烦
* 在大数据场景下I/O偏高：即使只针对某一列计算，关系型数据库也会把整行数据读入内存
* 全文搜索功能较弱：like只能进行整表扫描，效率低

# 常见的NoSQL
* k-v存储：解决无法存储数据结构的问题，如Redis
* 文档数据库：解决强schema约束的问题，如MongoDB
* 列式数据库：解决大数据下I/O高的问题，如HBase
* 全文搜索引擎：解决全文搜索性能的问题，如Elasticsearch

## k-v数据库
* 支持数据结构存储：string、hash、list、set、sroted set、bitmap和hyperloglog
* 原生支持典型操作
    * LPOP key 左pop出元素
    * LINDEX key index 通过索引列表获取一个元素
    * LLEN key 获取队列长度
    * RPOP key 从队列的右边出一个元素
* 问题：事务只能保证隔离性和一致性，无法保证原子性和持久性

## 文档数据库
* 新增字段简单：无需修改表结构
* 历史数据不会出错：新增字段后对原有数据无影响
* 可以很容易存储复杂数据：通过json存储
* 问题：不支持事务、无法join

## 列式数据库
* 同时读取多个列时效率高
* 能够一次完成对一行中多个列的写操作

## 全文搜索引擎
* 原理：倒排索引，建立单词到文档的索引
