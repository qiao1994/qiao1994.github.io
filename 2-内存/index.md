# 2.内存性能分析


## 性能指标

* 系统内存使用情况

  * 已用内存
* 共享内存
  * 可用内存
  
* 进程内存使用情况

  * 虚拟内存

    >包括进程代码段、数据段、共享内存、已经申请的堆内存和已经换出的内存等
    >
    >已经申请的内存，即使还没有分配物理内存，也算作虚拟内存
    >
    >虚拟内存需要通过MMU映射到物理内存上

  * 常驻内存

    > 是进程实际使用的物理内存

  * 共享内存

    > 既包括与其他进程共同使用的真实的共享内存，还包括了加载的动态链接库以及程序的代码段等

  * Swap内存

    > 通过 Swap 换出到磁盘的内存

* 缺页异常

  > 系统调用内存分配请求后，并不会立刻为其分配物理内存，而是在请求首次访问时，通过缺页异常分配。可以直接从物理内存中分配时，被称为次缺页异常；需要磁盘 I/O 介入（比如 Swap）时，被称为主缺页异常。

* Swap的使用情况

  * 已用空间
  * 剩余空间
  * 换入速度
  * 换出速度

## 工具字典

![根据指标找工具](https://qiao1994.github.io/images/Linux/memory-1.png)

![根据工具查指标](https://qiao1994.github.io/images/Linux/memory-2.png)



## 分析思路

![分析思路](https://qiao1994.github.io/images/Linux/memory-3.png)
