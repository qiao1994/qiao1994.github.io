# 数据结构:跳表

# 跳表是什么
二分查找的实现依赖数组的随机访问，跳表就是让链表也能实现二分查找。
把单链表的每两个结点提取一个结点到上级，这样查找的时候思路和二分查找基本一致。

![一级跳表](/images/pasted-3.png)

![多级跳表](/images/pasted-4.png)

# 跳表查询的时间复杂度
假设按照每两个结点抽出一个结点的话，会有log2n级索引；那么跳表查询的时间复杂度就是`O(m*logn)`，m是每层索引需要查询的数量，每层索引最多需要遍历3个节点(因为高层的两个结点之间只有三个低层节点)
所以总的查询复杂度就是`O(logn)`，和二分查找一致。

# 跳表的索引占用的空间
跳表的索引需要占用的空间量级是`O(n)`
实际应用中不需要太在意索引占用的额外空间，因为数据结构本身可能很大，而索引只需要存储关键数据，所以相对很小。

# 插入和删除的效率
链表的插入和删除本身效率都很高，是`O(1)`级别的，主要的时间花在查找的`O(n)`；跳表把查找的时间复杂度降到`O(logn)`，所以它插入和删除的时间复杂度也是`O(logn)`

# 索引的动态更新
当跳表不断有新元素插入，跳表的某两个索引之间的数据可能会增多导致跳表失去平衡，极端情况下会退化成单链表。
所以让我们插入数据时，需要考虑更新索引，更新的基本思路为：当我们往跳表中插入数据时，我们可以同时将这个数据插入到一个随机函数生成的指定层级的部分索引层中。

